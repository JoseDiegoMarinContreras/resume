---
import { Image } from 'astro:assets';
import { getCollection, getEntry, } from 'astro:content'
import profileImage from '../assets/profile-image.jpeg';
import Button from "@components/Button.astro";
import { resumeURL } from "src/utils/path";

const { lang, } = Astro.params;
const info = await getEntry('info', 'data');
const resume = await getEntry('resume', lang as string);

const { firstNme, lastName, role } = info!.data;
const { downloadButton, url, } = resume!.data;

const cvURL = resumeURL(url);

console.log(url, cvURL);
---

<div class="flex items-center justify-center">
    <Image class="rounded-full" alt="Profile Photo" src={profileImage} width={200} />
                
    <div class="pl-5">
        <h1 class="name">{ firstNme }</h1>

        <h1 class="last-name">{ lastName }</h1>

        <h2 class="role">{ role }</h2>
                
        <Button class='mt-3' href={cvURL} download="CV">{ downloadButton }</Button>
    </div>
</div>

<style scoped>
    .name,.last-name {
        font-weight: 600;
        font-size: xx-large;
    }

    .role {
        color: #6EEBFF;
        font-weight: 300;
        font-size: medium;
    }


</style>